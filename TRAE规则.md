# Trae 开发规则

## 硬性要求

1. **语言规范**：回复内容只能使用中文，专业名词（如 React、TypeScript、Zustand 等）除外。所有注释、变量命名、用户提示信息都应使用中文。

2. **代码完整性**：所有功能必须完整实现，不允许使用占位符（如 `// TODO`、`待实现` 等）。如果某个功能暂时无法实现，需要说明原因并提供替代方案。

## 开发工作流建议

1. **思考先行**：在开始编写代码前，先在回复中列出 `Todo List`，明确涉及的文件和修改点。对于复杂功能，先说明实现思路和架构设计。

2. **小步提交**：每一个独立的逻辑变更（如"修改 Store"和"修改组件"）最好分步骤进行，便于回溯和审查。避免一次性修改过多文件。

3. **自我审查**：每次生成代码后，需要检查：
   - 类型定义是否完整（TypeScript 类型安全）
   - 是否遵循现有代码风格
   - 是否有语法错误或逻辑错误
   - 是否与现有代码结构兼容

4. **渐进式开发**：优先实现核心功能，确保基本功能可用后，再优化样式和交互细节。避免一开始就过度设计。

## 代码质量要求

1. **组件拆分**：合理拆分组件，避免单个组件过大（建议单个组件不超过 200 行）。可复用的 UI 组件应独立成文件。

2. **状态管理**：优先使用项目已有的 Zustand store（taskStore），如需扩展功能，应在现有 store 基础上添加，保持状态管理的一致性。

3. **类型安全**：充分利用 TypeScript 的类型系统，避免使用 `any` 类型。所有函数参数和返回值都要有明确的类型定义。

4. **错误处理**：表单验证、API 调用等可能出错的地方，都要有完善的错误处理和用户提示。

## 用户体验要求

1. **交互反馈**：所有用户操作（提交表单、切换状态、删除等）都要有明确的反馈，如成功提示、错误提示、加载状态等。

2. **表单验证**：表单提交前必须进行客户端验证，验证失败时显示清晰的错误信息，并高亮显示有问题的字段。

3. **确认操作**：删除、状态变更等关键操作，必须提供二次确认机制（如确认对话框），防止误操作。

4. **视觉一致性**：新增的 UI 组件要与现有设计风格保持一致（颜色、圆角、阴影、间距等），保持整体视觉统一。

5. **响应式设计**：确保在不同屏幕尺寸下都能正常显示和使用，关键功能在移动端也要可用。

## 文件组织规范

1. **文件命名**：组件文件使用 PascalCase（如 `TaskCard.tsx`），工具函数使用 camelCase（如 `formatDate.ts`），样式文件与组件同名（如 `TaskCard.css`）。

2. **目录结构**：遵循项目现有结构，组件放在 `src/components/`，页面放在 `src/pages/`，工具函数放在 `src/utils/`。

3. **导入顺序**：先导入第三方库，再导入项目内部模块，最后导入类型定义。同一类别的导入按字母顺序排列。

## 特殊情况处理

1. **遇到错误时**：如果代码执行出错，不要直接跳过，需要分析错误原因，修复问题，并说明修复方案。

2. **功能冲突时**：如果新功能与现有代码有冲突，优先保持现有代码的兼容性，通过扩展而非修改的方式实现新功能。

3. **性能考虑**：对于列表渲染、筛选等可能涉及大量数据的操作，要考虑性能优化（如虚拟滚动、防抖等），但不要过度优化。

4. **代码复用**：如果发现多个地方有相似的逻辑，应该提取为公共函数或组件，避免代码重复。

## 沟通规范

1. **进度汇报**：完成每个主要功能模块后，简要说明已完成的内容和下一步计划。

2. **问题说明**：如果遇到无法解决的问题或需要用户决策的情况，要明确说明问题、影响和可能的解决方案。

3. **代码说明**：对于复杂的逻辑或算法，需要添加注释说明实现思路，帮助后续维护。

---

**注意**：这些规则旨在提升开发效率和代码质量，确保项目能够顺利推进并保持良好的用户体验。在开发过程中，如果发现规则需要调整，可以提出建议。

